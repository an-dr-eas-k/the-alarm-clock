<!DOCTYPE html>
<html>

<head>
	<title>Alarm Clock</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>

<body>
	<div class="container">
		<h1>Set Alarm</h1>
		<form id="alarm-form" action="/api/config" method="post">
			<div class="form-group">
				<label for="timepicker">Time:</label>
				<div class="input-group date" id="timepicker">
					<input type="time" class="form-control" name="time" />
				</div>
			</div>
			<div class="form-group">
				<label for="daypicker">Day of the Week:</label>
				<select multiple class="form-control" name="days" id="daypicker" size="7">
					<option value="monday">Monday</option>
					<option value="tuesday">Tuesday</option>
					<option value="wednesday">Wednesday</option>
					<option value="thursday">Thursday</option>
					<option value="friday">Friday</option>
					<option value="saturday">Saturday</option>
					<option value="sunday">Sunday</option>
				</select>
			</div>
			<div class="form-group">
				<label for="activepicker">Active:</label>
				<input type="checkbox" name="active" id="activepicker" />
			</div>
			<button type="submit" class="btn btn-primary">Set Alarm</button>
		</form>
	</div>
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

	<script>
		const formId = 'alarm-form';
		document.getElementById(formId).addEventListener('submit', function (event) {
			event.preventDefault(); // Prevent the default form submission

			// Perform an AJAX request to submit the form data to the backend
			var xhr = new XMLHttpRequest();
			xhr.open('POST', document.getElementById(formId).getAttribute('action'))
			xhr.onload = function () {
				if (xhr.status === 200) {
					window.location.href = window.location.href;
				} else {
					console.error('Request failed. Status:', xhr.status);
				}
			};
			xhr.send(new FormData(event.target));
		});
	</script>

</body>

</html>